import { useEffect, useRef, useState } from "react";
import { Link } from "react-router-dom";
import { useEventListener } from "use-hooks";




const getCssVar = (element, name) => {
  return window.getComputedStyle(element).getPropertyValue(name)
}

const Navigation = () => {



  const refOne = useRef();
  const refTwo = useRef();
  const refThree = useRef();
  const refFour = useRef();
  const refFive = useRef();
  const refSix = useRef();
  const refSeven = useRef();

  const [fillOne, setFillOne] = useState("")
  const [fillTwo, setFillTwo] = useState("")
  const [fillThree, setFillThree] = useState("")
  const [fillFour, setFillFour] = useState("")
  const [fillFive, setFillFive] = useState("")
  const [fillSix, setFillSix] = useState("")
  const [fillSeven, setFillSeven] = useState("")

  const updateFill = () => {
    const newFillOne = refOne.current ? getCssVar(refOne.current, "--path-fill-color") : "blue";
    setFillOne(newFillOne)
    const newFillTwo = refTwo.current ? getCssVar(refTwo.current, "--path-fill-color") : "blue";
    setFillTwo(newFillTwo)
    const newFillThree = refThree.current ? getCssVar(refThree.current, "--path-fill-color") : "blue";
    setFillThree(newFillThree)
    const newFillFour = refFour.current ? getCssVar(refFour.current, "--path-fill-color") : "blue";
    setFillFour(newFillFour)
    const newFillFive = refFive.current ? getCssVar(refFive.current, "--path-fill-color") : "blue";
    setFillFive(newFillFive)
    const newFillSix = refSix.current ? getCssVar(refSix.current, "--path-fill-color") : "blue";
    setFillSix(newFillSix)
    const newFillSeven = refSeven.current ? getCssVar(refSeven.current, "--path-fill-color") : "blue";
    setFillSeven(newFillSeven)
  }

  useEventListener("focusout", (event) => {
    updateFill();
  });

  useEffect(() => {
    updateFill();
  }, [])

  return (
    <div className="Navigation">
      <div className="logo">
        <img src="svg/logo.svg" alt="" />
      </div>
      <div className="icons">
        <Link to="/" className="icon OrdersShopIcon" tabIndex="0" ref={refOne} onFocus={updateFill} >
          <svg
            // width="20"
            // height="20"
            viewBox="0 0 29 29"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.96979 20.3547L5.04418 20.7331H5.04418L5.96979 20.3547ZM5.56702 13.8536L4.60205 13.5912H4.60205L5.56702 13.8536ZM23.4279 13.8535L24.3928 13.5912L23.4279 13.8535ZM23.0251 20.3547L22.0995 19.9762V19.9762L23.0251 20.3547ZM16.8612 24.7612L16.7074 23.7731L16.8612 24.7612ZM12.1337 24.7612L11.9799 25.7493H11.9799L12.1337 24.7612ZM9.95025 9.60551L9.75192 8.62537L9.95025 9.60551ZM19.0446 9.60551L18.8463 10.5856L19.0446 9.60551ZM11.2646 24.6259L11.4184 23.6378L11.2646 24.6259ZM6.07761 20.6184L7.00322 20.2399H7.00322L6.07761 20.6184ZM17.7303 24.6259L17.884 25.614L17.7303 24.6259ZM22.9173 20.6184L23.8429 20.9968V20.9968L22.9173 20.6184ZM23.339 13.5269L22.3741 13.7892L23.339 13.5269ZM5.65585 13.5269L6.62081 13.7892L6.62081 13.7892L5.65585 13.5269ZM18.1856 9.88451L17.2701 9.4822L18.1856 9.88451ZM17.0229 10.0449C16.8007 10.5505 17.0305 11.1405 17.5361 11.3627C18.0417 11.5849 18.6317 11.3551 18.8539 10.8495L17.0229 10.0449ZM10.8093 9.88451L11.7248 9.4822V9.4822L10.8093 9.88451ZM10.141 10.8495C10.3632 11.3551 10.9532 11.5849 11.4588 11.3627C11.9644 11.1405 12.1942 10.5505 11.972 10.0449L10.141 10.8495ZM13.6187 4.13715L13.7869 5.1229L13.7869 5.1229L13.6187 4.13715ZM13.755 4.11388L13.5868 3.12814V3.12814L13.755 4.11388ZM15.2399 4.11388L15.0716 5.09963L15.0716 5.09963L15.2399 4.11388ZM15.3762 4.13715L15.5444 3.1514L15.5444 3.1514L15.3762 4.13715ZM18.4733 7.00894L19.45 6.79434L18.4733 7.00894ZM10.5216 7.00894L11.4983 7.22354V7.22354L10.5216 7.00894ZM17.5765 23.6378L16.7074 23.7731L17.0149 25.7493L17.884 25.614L17.5765 23.6378ZM12.2874 23.7731L11.4184 23.6378L11.1108 25.614L11.9799 25.7493L12.2874 23.7731ZM22.3741 13.7892L22.4629 14.1159L24.3928 13.5912L24.304 13.2645L22.3741 13.7892ZM22.0995 19.9762L21.9916 20.2399L23.8429 20.9968L23.9507 20.7331L22.0995 19.9762ZM7.00322 20.2399L6.8954 19.9762L5.04418 20.7331L5.15199 20.9968L7.00322 20.2399ZM6.53198 14.1159L6.62081 13.7892L4.69088 13.2645L4.60205 13.5912L6.53198 14.1159ZM6.8954 19.9762C6.13094 18.1066 6.00431 16.0565 6.53198 14.1159L4.60205 13.5912C3.95861 15.9575 4.1139 18.458 5.04418 20.7331L6.8954 19.9762ZM22.4629 14.1159C22.9906 16.0565 22.8639 18.1066 22.0995 19.9762L23.9507 20.7331C24.881 18.458 25.0363 15.9575 24.3928 13.5912L22.4629 14.1159ZM16.7074 23.7731C15.2438 24.0008 13.7511 24.0008 12.2874 23.7731L11.9799 25.7493C13.6473 26.0088 15.3475 26.0087 17.0149 25.7493L16.7074 23.7731ZM10.1486 10.5856C13.0159 10.0054 15.979 10.0054 18.8463 10.5856L19.243 8.62537C16.1139 7.99218 12.881 7.99218 9.75192 8.62537L10.1486 10.5856ZM11.4184 23.6378C9.3997 23.3237 7.73057 22.0188 7.00322 20.2399L5.15199 20.9968C6.15695 23.4546 8.43215 25.1972 11.1108 25.614L11.4184 23.6378ZM17.884 25.614C20.5627 25.1972 22.8379 23.4546 23.8429 20.9968L21.9916 20.2399C21.2643 22.0188 19.5952 23.3237 17.5765 23.6378L17.884 25.614ZM18.8463 10.5856C20.5883 10.9381 21.9402 12.1935 22.3741 13.7892L24.304 13.2645C23.6615 10.9015 21.6877 9.12008 19.243 8.62537L18.8463 10.5856ZM9.75192 8.62537C7.30717 9.12008 5.3334 10.9015 4.69088 13.2645L6.62081 13.7892C7.05471 12.1935 8.40662 10.9381 10.1486 10.5856L9.75192 8.62537ZM17.2701 9.4822L17.0229 10.0449L18.8539 10.8495L19.1011 10.2868L17.2701 9.4822ZM9.89375 10.2868L10.141 10.8495L11.972 10.0449L11.7248 9.4822L9.89375 10.2868ZM13.7869 5.1229L13.9233 5.09963L13.5868 3.12814L13.4505 3.15141L13.7869 5.1229ZM15.0716 5.09963L15.2079 5.1229L15.5444 3.1514L15.4081 3.12814L15.0716 5.09963ZM17.4966 7.22354C17.6627 7.97969 17.5845 8.76674 17.2701 9.4822L19.1011 10.2868C19.5851 9.18555 19.7076 7.9666 19.45 6.79434L17.4966 7.22354ZM9.5449 6.79434C9.28733 7.9666 9.40981 9.18555 9.89375 10.2868L11.7248 9.4822C11.4104 8.76674 11.3322 7.97969 11.4983 7.22354L9.5449 6.79434ZM13.9233 5.09963C14.303 5.03482 14.6919 5.03482 15.0716 5.09963L15.4081 3.12814C14.8057 3.02532 14.1892 3.02532 13.5868 3.12814L13.9233 5.09963ZM19.45 6.79434C19.0345 4.90354 17.4716 3.48032 15.5444 3.1514L15.2079 5.1229C16.3776 5.32252 17.2655 6.17191 17.4966 7.22354L19.45 6.79434ZM11.4983 7.22354C11.7294 6.17191 12.6173 5.32252 13.7869 5.1229L13.4505 3.15141C11.5233 3.48032 9.96035 4.90354 9.5449 6.79434L11.4983 7.22354Z"
              fill={fillOne}
            />
          </svg>
        </Link>
        <Link to="/OrdersQuote" className="icon qoute" tabIndex="0" ref={refTwo} onFocus={updateFill}>
          <svg
            // width="17"
            // height="17"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.31785 9.31254V11.7862M16.6073 9.31254V11.7862M16.6073 11.7862V18.7862C16.6073 19.8908 15.7119 20.7862 14.6073 20.7862H7.31785C6.21328 20.7862 5.31785 19.8908 5.31785 18.7862V11.7862M16.6073 11.7862H17.7126C19.3694 11.7862 20.7126 10.4431 20.7126 8.78623V5.28622C20.7126 3.07709 18.9217 1.28622 16.7126 1.28622H15.5547C15.0024 1.28622 14.5547 1.73394 14.5547 2.28622V3.78622C14.5547 4.89079 13.6593 5.78623 12.5547 5.78623H9.88364C8.77907 5.78623 7.88364 4.89079 7.88364 3.78622V2.28622C7.88364 1.73394 7.43592 1.28622 6.88364 1.28622H5.21259C3.00345 1.28622 1.21259 3.07709 1.21259 5.28622V8.78623C1.21259 10.4431 2.55573 11.7862 4.21259 11.7862H5.31785"
              stroke-width="2"
              stroke={fillTwo}
            />
          </svg>
        </Link>
        <Link to="/Fundraise" className="icon customerCare" tabIndex="0" ref={refThree} onFocus={updateFill}>
          <svg
            // width="17"
            // height="17"
            viewBox="0 0 25 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.2016 16.5476L11.8441 15.5287L8.96091 12.6459C8.85416 12.5389 8.85374 12.3646 8.95973 12.2583C9.02948 12.1887 9.11109 12.1782 9.15351 12.1782C9.19566 12.1782 9.27676 12.1886 9.34576 12.2577L11.5261 14.438C11.5323 14.4442 11.5397 14.4499 11.5461 14.4561C11.5555 14.4648 11.5649 14.4739 11.5748 14.4819C11.8948 14.7776 12.3023 14.9273 12.711 14.9273C13.1402 14.9273 13.5699 14.7641 13.8971 14.4376C14.5499 13.7836 14.5498 12.72 13.8966 12.0668L7.91253 6.08247C7.79341 5.96336 7.63197 5.89648 7.46351 5.89648H1.06229C0.71156 5.89648 0.427368 6.18076 0.427368 6.53141C0.427368 6.88205 0.71156 7.16633 1.06229 7.16633H7.20056L12.9986 12.9644C13.1571 13.1229 13.1569 13.3813 12.9991 13.5394C12.8405 13.6977 12.5821 13.6977 12.4235 13.5394L12.4227 13.5386L10.245 11.3611L10.2441 11.3602L10.2433 11.3594C9.95241 11.0685 9.56536 10.9083 9.15351 10.9083C8.74131 10.9083 8.35375 11.0687 8.06161 11.3606C7.4768 11.9465 7.46342 12.8898 8.01826 13.4943C8.02199 13.4989 8.02639 13.503 8.0302 13.5074C8.04095 13.5189 8.05035 13.531 8.06144 13.5421L11.097 16.5773C11.1947 16.6751 11.3217 16.7383 11.4588 16.7573L19.0218 17.8046C19.1643 17.8257 19.4336 17.9208 19.4336 18.1311C19.4338 18.2458 19.3754 18.3213 19.3406 18.3562C19.3056 18.3912 19.2297 18.4499 19.1145 18.4499H10.6559L3.92377 11.7169C3.80474 11.5978 3.64321 11.5309 3.47475 11.5309H1.06229C0.71156 11.5309 0.427368 11.8152 0.427368 12.1658C0.427368 12.5164 0.71156 12.8007 1.06229 12.8007H3.2118L9.94394 19.5337C10.063 19.6527 10.2245 19.7197 10.393 19.7197H19.1145C19.5394 19.7197 19.9387 19.5542 20.2389 19.2537C20.5389 18.9534 20.7039 18.5542 20.7034 18.1304C20.7034 17.3291 20.0882 16.6785 19.2016 16.5476Z"
              fill={fillThree}
            />
            <path
              d="M20.4218 0.217316C19.4577 0.217316 18.505 0.575497 17.7661 1.19755C17.0272 0.575413 16.0748 0.217316 15.111 0.217316C12.9366 0.217316 11.2333 1.9206 11.2333 4.09509C11.2333 6.67703 13.4435 8.63556 16.5051 11.343L17.3178 12.1534C17.4417 12.277 17.6039 12.3387 17.7661 12.3387C17.9283 12.3387 18.0904 12.277 18.2142 12.1536L19.0279 11.3431C22.0892 8.63581 24.2995 6.67712 24.2995 4.09509C24.2995 1.9206 22.5961 0.217316 20.4218 0.217316ZM18.1724 10.4044C18.163 10.4127 18.1538 10.4213 18.145 10.4302L17.7663 10.8073L17.3882 10.4304C17.3793 10.4214 17.37 10.4127 17.3605 10.4043C14.2583 7.66082 12.5031 6.0151 12.5031 4.09501C12.5031 2.60827 13.6242 1.48708 15.111 1.48708C15.921 1.48708 16.7527 1.87548 17.2812 2.50067C17.4019 2.64332 17.5793 2.72569 17.7661 2.72569C17.953 2.72569 18.1304 2.6434 18.251 2.50067C18.7796 1.87548 19.6115 1.48708 20.422 1.48708C21.9087 1.48708 23.0298 2.60827 23.0298 4.09501C23.0297 6.01536 21.2745 7.66099 18.1724 10.4044Z"
              fill={fillThree}
            />
          </svg>
        </Link>
        <Link to="/CustomerService" className="icon calling" tabIndex="0" ref={refFour} onFocus={updateFill}>
          <svg
            // width="17"
            // height="17"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.9353 3.57348C15.0272 2.97744 17.3294 3.47116 18.9305 5.07227C20.5316 6.67338 21.0253 8.97553 20.4293 11.0674M14.8088 6.19637C15.5559 6.04755 16.4165 6.30532 17.057 6.94576C17.6974 7.5862 17.9552 8.44678 17.8064 9.19395"
              stroke={fillFour}
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M15.0297 20.6274C15.8824 20.7776 16.759 20.7776 17.6117 20.6274C18.9822 20.3859 20.0861 19.4657 20.4663 18.248L20.547 17.9897C20.6308 17.7212 20.6733 17.4435 20.6733 17.1645C20.6733 15.934 19.5729 14.9365 18.2155 14.9365H14.4259C13.0684 14.9365 11.968 15.934 11.968 17.1645C11.968 17.4435 12.0105 17.7212 12.0943 17.9897L12.175 18.248C12.5552 19.4657 13.6592 20.3859 15.0297 20.6274ZM15.0297 20.6274C9.10678 19.5299 4.47276 14.8959 3.37532 8.973M3.37532 8.973C3.22507 8.12033 3.22507 7.24371 3.37532 6.39103C3.61683 5.02051 4.53695 3.91659 5.7547 3.53635L6.013 3.45569C6.28149 3.37186 6.55918 3.32934 6.83822 3.32934C8.06871 3.32934 9.06621 4.42977 9.06621 5.78721L9.0662 9.57682C9.06621 10.9343 8.06871 12.0347 6.83822 12.0347C6.55918 12.0347 6.28148 11.9922 6.013 11.9083L5.7547 11.8277C4.53694 11.4474 3.61682 10.3435 3.37532 8.973Z"
              stroke={fillFour}
              stroke-width="2"
            />
          </svg>
        </Link>
        <Link to="/Account" className="icon profile" tabIndex="0" ref={refFive} onFocus={updateFill}>
          <svg
            // width="17"
            // height="17"
            viewBox="0 0 18 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.07129 18.7403C1.07129 16.1261 2.91006 13.8994 5.409 13.4874L5.63409 13.4503C7.63512 13.1204 9.67412 13.1204 11.6751 13.4503L11.9002 13.4874C14.3992 13.8994 16.238 16.1261 16.238 18.7403C16.238 19.8702 15.3513 20.7862 14.2575 20.7862H3.05176C1.95798 20.7862 1.07129 19.8702 1.07129 18.7403Z"
              stroke={fillFive} stroke-width="2"
            />
            <path
              d="M13.0783 5.55185C13.0783 7.90769 11.0977 9.81748 8.65464 9.81748C6.21155 9.81748 4.23103 7.90769 4.23103 5.55185C4.23103 3.19601 6.21155 1.28622 8.65464 1.28622C11.0977 1.28622 13.0783 3.19601 13.0783 5.55185Z"
              stroke={fillFive} stroke-width="2"
            />
          </svg>
        </Link>
        <Link to="/Statictis" className="icon statictis" tabIndex="0" ref={refSix} onFocus={updateFill}>
          <svg
            // width="20"
            // height="20"
            viewBox="0 0 28 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.28625 19.4619L8.25054 12.0333L12.8934 16.2119L21.7148 5.99762"
              stroke={fillSix}
              stroke-width="2"
            />
            <path
              d="M22.7144 5.94676C22.6854 5.39524 22.2147 4.97168 21.6632 5.0007L12.6757 5.47373C12.1241 5.50276 11.7006 5.97339 11.7296 6.52491C11.7586 7.07643 12.2293 7.5 12.7808 7.47097L20.7697 7.0505L21.1902 15.0394C21.2192 15.591 21.6899 16.0145 22.2414 15.9855C22.7929 15.9565 23.2165 15.4858 23.1874 14.9343L22.7144 5.94676ZM14.1019 15.954L22.4591 6.66829L20.9725 5.33036L12.6153 14.6161L14.1019 15.954Z"
              fill={fillSix}
            />
          </svg>
        </Link>
        <Link to="/Accounting" className="icon dolar" tabIndex="0" ref={refSeven} onFocus={updateFill}>
          <svg
            // width="17"
            // height="17"
            viewBox="0 0 14 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.2564 14.176C13.2564 15.008 13.0404 15.792 12.6084 16.528C12.1924 17.248 11.5684 17.848 10.7364 18.328C9.92044 18.792 8.95244 19.064 7.83244 19.144V21.088H6.29644V19.12C4.69644 18.976 3.40844 18.496 2.43244 17.68C1.45644 16.848 0.952438 15.728 0.920438 14.32H4.52044C4.61644 15.472 5.20844 16.168 6.29644 16.408V11.824C5.14444 11.536 4.21644 11.248 3.51244 10.96C2.80844 10.672 2.20044 10.208 1.68844 9.568C1.17644 8.928 0.920438 8.056 0.920438 6.952C0.920438 5.56 1.41644 4.424 2.40844 3.544C3.41644 2.664 4.71244 2.16 6.29644 2.032V0.0879989H7.83244V2.032C9.36844 2.16 10.5924 2.624 11.5044 3.424C12.4324 4.224 12.9524 5.328 13.0644 6.736H9.44044C9.39244 6.272 9.22444 5.872 8.93644 5.536C8.66444 5.184 8.29644 4.936 7.83244 4.792V9.328C9.03244 9.632 9.97644 9.928 10.6644 10.216C11.3684 10.488 11.9764 10.944 12.4884 11.584C13.0004 12.208 13.2564 13.072 13.2564 14.176ZM4.42444 6.784C4.42444 7.312 4.58444 7.744 4.90444 8.08C5.22444 8.4 5.68844 8.664 6.29644 8.872V4.72C5.72044 4.8 5.26444 5.016 4.92844 5.368C4.59244 5.72 4.42444 6.192 4.42444 6.784ZM7.83244 16.456C8.44044 16.344 8.91244 16.096 9.24844 15.712C9.60044 15.328 9.77644 14.864 9.77644 14.32C9.77644 13.792 9.60844 13.368 9.27244 13.048C8.93644 12.728 8.45644 12.464 7.83244 12.256V16.456Z"
              fill={fillSeven}
            />
          </svg>{" "}
        </Link>
      </div>
    </div>
  );
};

export default Navigation;
